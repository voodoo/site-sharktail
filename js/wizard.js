!function(t){var n=function(n,a){n=t(n);var e=this,i=[],o=t.extend({},t.fn.bootstrapWizard.defaults,a),s=null,l=null;this.rebindClick=function(t,n){t.unbind("click",n).bind("click",n)},this.fixNavigationButtons=function(){return s.length||(l.find("a:first").tab("show"),s=l.find('li:has([data-toggle="tab"]):first')),t(o.previousSelector,n).toggleClass("disabled",e.firstIndex()>=e.currentIndex()),t(o.nextSelector,n).toggleClass("disabled",e.currentIndex()>=e.navigationLength()),t(o.backSelector,n).toggleClass("disabled",0==i.length),e.rebindClick(t(o.nextSelector,n),e.next),e.rebindClick(t(o.previousSelector,n),e.previous),e.rebindClick(t(o.lastSelector,n),e.last),e.rebindClick(t(o.firstSelector,n),e.first),e.rebindClick(t(o.backSelector,n),e.back),o.onTabShow&&"function"==typeof o.onTabShow&&!1===o.onTabShow(s,l,e.currentIndex())?!1:void 0},this.next=function(t){return n.hasClass("last")||o.onNext&&"function"==typeof o.onNext&&!1===o.onNext(s,l,e.nextIndex())?!1:(t=e.currentIndex(),$index=e.nextIndex(),void($index>e.navigationLength()||(i.push(t),l.find('li:has([data-toggle="tab"]):eq('+$index+") a").tab("show"))))},this.previous=function(t){return n.hasClass("first")||o.onPrevious&&"function"==typeof o.onPrevious&&!1===o.onPrevious(s,l,e.previousIndex())?!1:(t=e.currentIndex(),$index=e.previousIndex(),void(0>$index||(i.push(t),l.find('li:has([data-toggle="tab"]):eq('+$index+") a").tab("show"))))},this.first=function(){return o.onFirst&&"function"==typeof o.onFirst&&!1===o.onFirst(s,l,e.firstIndex())||n.hasClass("disabled")?!1:(i.push(e.currentIndex()),void l.find('li:has([data-toggle="tab"]):eq(0) a').tab("show"))},this.last=function(){return o.onLast&&"function"==typeof o.onLast&&!1===o.onLast(s,l,e.lastIndex())||n.hasClass("disabled")?!1:(i.push(e.currentIndex()),void l.find('li:has([data-toggle="tab"]):eq('+e.navigationLength()+") a").tab("show"))},this.back=function(){if(0==i.length)return null;var t=i.pop();return o.onBack&&"function"==typeof o.onBack&&!1===o.onBack(s,l,t)?(i.push(t),!1):void n.find('li:has([data-toggle="tab"]):eq('+t+") a").tab("show")},this.currentIndex=function(){return l.find('li:has([data-toggle="tab"])').index(s)},this.firstIndex=function(){return 0},this.lastIndex=function(){return e.navigationLength()},this.getIndex=function(t){return l.find('li:has([data-toggle="tab"])').index(t)},this.nextIndex=function(){return l.find('li:has([data-toggle="tab"])').index(s)+1},this.previousIndex=function(){return l.find('li:has([data-toggle="tab"])').index(s)-1},this.navigationLength=function(){return l.find('li:has([data-toggle="tab"])').length-1},this.activeTab=function(){return s},this.nextTab=function(){return l.find('li:has([data-toggle="tab"]):eq('+(e.currentIndex()+1)+")").length?l.find('li:has([data-toggle="tab"]):eq('+(e.currentIndex()+1)+")"):null},this.previousTab=function(){return 0>=e.currentIndex()?null:l.find('li:has([data-toggle="tab"]):eq('+parseInt(e.currentIndex()-1)+")")},this.show=function(t){t=n.find(isNaN(t)?'li:has([data-toggle="tab"]) a[href=#'+t+"]":'li:has([data-toggle="tab"]):eq('+t+") a"),0<t.length&&(i.push(e.currentIndex()),t.tab("show"))},this.disable=function(t){l.find('li:has([data-toggle="tab"]):eq('+t+")").addClass("disabled")},this.enable=function(t){l.find('li:has([data-toggle="tab"]):eq('+t+")").removeClass("disabled")},this.hide=function(t){l.find('li:has([data-toggle="tab"]):eq('+t+")").hide()},this.display=function(t){l.find('li:has([data-toggle="tab"]):eq('+t+")").show()},this.remove=function(n){var a="undefined"!=typeof n[1]?n[1]:!1;n=l.find('li:has([data-toggle="tab"]):eq('+n[0]+")"),a&&(a=n.find("a").attr("href"),t(a).remove()),n.remove()};var r=function(n){var a=l.find('li:has([data-toggle="tab"])');return n=a.index(t(n.currentTarget).parent('li:has([data-toggle="tab"])')),a=t(a[n]),o.onTabClick&&"function"==typeof o.onTabClick&&!1===o.onTabClick(s,l,e.currentIndex(),n,a)?!1:void 0},d=function(n){return $element=t(n.target).parent(),n=l.find('li:has([data-toggle="tab"])').index($element),$element.hasClass("disabled")||o.onTabChange&&"function"==typeof o.onTabChange&&!1===o.onTabChange(s,l,e.currentIndex(),n)?!1:(s=$element,void e.fixNavigationButtons())};this.resetWizard=function(){t('a[data-toggle="tab"]',l).off("click",r),t('a[data-toggle="tab"]',l).off("shown shown.bs.tab",d),l=n.find("ul:first",n),s=l.find('li:has([data-toggle="tab"]).active',n),t('a[data-toggle="tab"]',l).on("click",r),t('a[data-toggle="tab"]',l).on("shown shown.bs.tab",d),e.fixNavigationButtons()},l=n.find("ul:first",n),s=l.find('li:has([data-toggle="tab"]).active',n),l.hasClass(o.tabClass)||l.addClass(o.tabClass),o.onInit&&"function"==typeof o.onInit&&o.onInit(s,l,0),o.onShow&&"function"==typeof o.onShow&&o.onShow(s,l,e.nextIndex()),t('a[data-toggle="tab"]',l).on("click",r),t('a[data-toggle="tab"]',l).on("shown shown.bs.tab",d)};t.fn.bootstrapWizard=function(a){if("string"==typeof a){var e=Array.prototype.slice.call(arguments,1);return 1===e.length&&e.toString(),this.data("bootstrapWizard")[a](e)}return this.each(function(e){if(e=t(this),!e.data("bootstrapWizard")){var i=new n(e,a);e.data("bootstrapWizard",i),i.fixNavigationButtons()}})},t.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",backSelector:".wizard li.back",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onBack:null,onTabChange:null,onTabClick:null,onTabShow:null}}(jQuery);